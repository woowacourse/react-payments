# react-payments

## 구현 현황

**기능**

- [x] 사용자가 입력하는 카드 번호를 실시간으로 파악 가능해야한다.
- [x] Visa나 MasterCard에 해당하면 해당 브랜드의 로고를 UI에 표시한다.

**유효성 검사**

- [x] 월과 년도를 범위 내에서만 입력할 수 있어야 한다.
- [x] 입력 제한을 두어 사용자가 숫자만 입력할 수 있도록 한다.

**컴포넌트**

- [x] Input
- [x] Text
- [x] Card
- [x] Layout
  - [x] AppLayout
  - [x] InputLayout
- [x] Flex

## 기능

### 💳 카드 프리뷰

사용자가 input에 입력한 결과를 카드 프리뷰 UI를 통해 확인할 수 있다.

- 카드번호 3번째, 4번째 칸은 \*\*\*\* 형태로 보여진다.
  - EX) 1234 5678 \*\*\*\* \*\*\*\*
- 만료일자는 `/`로 구분한다.
  - `12/26`
- 카트 타입 체크로 확인된 카드의 타입이 오른쪽 상단에 표시된다.

### 카드 타입 확인

사용자의 가장 앞에 있는 카드번호를 확인해 카드 타입을 확인한다. **(VISA or MASTER)**

- Visa: 4로 시작하는 16자리 숫자
- MasterCard: 51~55로 시작하는 16자리 숫자

## 유효성 검사

유효성 검사 로직은 현재 검사하고 있는 값이 유효한 값인지 확인한 boolean 값과 에러 메시지를 반환한다.

**공통**

- 빈 값은 입력할 수 없다.
- 숫자만 입력할 수 있다.

### CVC, cardNumber

각 타입별로 정해진 길이의 숫자만 입력할 수 있다.

**cardNumber**

- 칸 별로 4자리의 숫자만 입력할 수 있다.

**CVC**

- 3자리의 숫자만 입력할 수 있다.

### expireDate

**월**

- 1~12사이의 숫자만 입력할 수 있다.
- 한 자리의 숫자는 앞에 0을 입력해 길이를 2자리로 입력해야 한다. (ex: 01, 02, ...)

**년도**

- 칸 별로 2자리의 숫자만 입력할 수 있다.
- 현재 년도 이전의 숫자는 입력할 수 없다.

## ⚙️ 컴포넌트

### Input

카드 정보 입력에 사용하는 모든 input에 사용되는 컴포넌트

- 입력받을 값의 최대, 최소 길이를 설정할 수 있다.

### Flex

flex box가 필요한 영역에 재사용할 수 있는 컴포넌트

### Text

모든 텍스트에 재사용할 수 있는 컴포넌트

- variant: Title, Body, Caption
- fontWeight: regular, medium, semibold, bold

옵션으로 글자 크기, 폰트 두께, 색상 등을 prop으로 넘겨 사용할 수 있다.

### AppLayout

앱의 root 영역의 레이아웃을 담당하는 컴포넌트

### CardInputLayout

- headerText: 영역의 타이틀
- description: 입력할 값의 설명
- label: input label

각 입력 필드의 Input 영역을 제외한 나머지 공통 레이아웃을 제공한다.

## hooks

관련된 상태, changeEvent, blurEvent, 에러 메시지를 보관한다.

### useCardInput

일반 카드 번호, CVC 관리에 사용되는 커스텀 훅

`[{value: '', isValid: true}]` 형태로 상태를 관리한다.

### useExpireDateInput

카드 만료일자 관리에 사용되는 훅 (다른 input과 예외 처리 로직, 상태의 자료구조가 달라 분리)

`{month: '', year: ''}` 형태로 상태를 관리한다.
